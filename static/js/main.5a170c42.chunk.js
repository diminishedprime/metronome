(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,n,t){e.exports=t(42)},40:function(e,n,t){e.exports=t.p+"static/media/click.b48ed3e5.wav"},41:function(e,n,t){},42:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(13),c=t.n(i),o=t(5),s=t(1),u=t(6),l=[{name:"Larghissimo",range:[0,24]},{name:"Grave",range:[25,45]},{name:"Largo",range:[40,60]},{name:"Lento",range:[45,60]},{name:"Larghetto",range:[60,66]},{name:"Adagio",range:[66,76]},{name:"Andante",range:[76,108]},{name:"Marcia moderato",range:[83,85]},{name:"Andante moderato",range:[92,112]},{name:"Moderato",range:[108,120]},{name:"Allegro",range:[120,156]},{name:"Vivace",range:[156,176]},{name:"Vivacissimo",range:[172,176]},{name:"Allegrissimo",range:[172,176]},{name:"Presto",range:[168,200]},{name:"Prestissimo",range:[200,250]}],f=function(e){return l.filter(function(n){return function(e,n){var t=Object(s.a)(e,2),a=t[0],r=t[1];return n>=a&&n<=r}(n.range,e)})},d=function(e){var n=e.bpm,t=f(n);return r.a.createElement("div",{style:{minHeight:"6.5em"}},t.map(function(e,n){var t=e.name,a=e.range;return r.a.createElement("div",{key:n,className:"has-text-centered"},t," - ",a[0]," - ",a[1])}))},m=t(22),v=t(51),b=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Object(a.useState)(function(){var a,r=localStorage.getItem(e);return a=null===r||void 0===r||t?n instanceof Function?n():n:JSON.parse(r),window.localStorage.setItem(e,JSON.stringify(a)),a}),i=Object(s.a)(r,2),c=i[0],o=i[1];return[c,Object(a.useCallback)(function(n){o(function(t){var a=n instanceof Function?n(t):n;return window.localStorage.setItem(e,JSON.stringify(a)),a})},[e])]},g=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){},t=Object(a.useState)(e),r=Object(s.a)(t,2),i=r[0],c=r[1];return[i,function(){return c(function(e){var t=!e;return n(t),t})}]},j=t(12);function p(){var e=Object(o.a)(["\n  flex-grow: 1;\n"]);return p=function(){return e},e}var h=function(e){var n=e.classes,t=void 0===n?[]:n,a=e.children,i=Object(j.a)(e,["classes","children"]),c="button ".concat(t.join(" ")," ").concat(void 0===i.className?"":i.className," "),o=Object.assign(i,{className:c});return r.a.createElement("button",Object.assign({},o,i),a)},E=Object(u.a)(h)(p()),O=function(e){var n=e.classes,t=void 0===n?[]:n,a=e.children,i=Object(j.a)(e,["classes","children"]),c="buttons has-addons ".concat(t.join(" ")),o=Object.assign(i,{className:c});return r.a.createElement("div",o,a)};function M(){var e=Object(o.a)(["\n  display: flex;\n  height: 20px;\n"]);return M=function(){return e},e}function w(){var e=Object(o.a)(["\n  display: flex;\n  flex-grow: 1;\n"]);return w=function(){return e},e}for(var S=u.a.div(w()),y=u.a.div(M()),k=function(e){var n=e.playing,t=(e.signature.beats,e.setSignature),i=e.activeSubDivisions,c=g(!1),o=Object(s.a)(c,2),u=o[0],l=o[1],f=Object(a.useState)(!1),d=Object(s.a)(f,2),j=d[0],p=d[1],O=b("@mjh/time-signature",[1]),M=Object(s.a)(O,2),w=M[0],k=M[1],x=Object(a.useCallback)(function(e){p(!0),t(function(n){return Object(m.a)({},n,{beats:v.a(0,e).map(function(){return{divisions:w}})})})},[w]),C=Object(a.useCallback)(function(e){return-1===w.indexOf(e)?[""]:["is-primary"]},[w]);Object(a.useEffect)(function(){j&&t(function(e){return Object(m.a)({},e,{beats:v.a(0,e.beats.length).map(function(){return{divisions:w}})})})},[w,j]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{style:{marginTop:"10px"},className:"section buttons is-centered"},[2,3,4,5,6].map(function(e){return r.a.createElement(E,{key:"division-options-".concat(e),classes:C(e),onClick:function(){return n=e,p(!0),void k(function(e){return-1!==e.indexOf(n)?e.filter(function(e){return e!==n}):e.concat([n]).sort()});var n}},e)})),r.a.createElement("section",{className:"section is-mobile columns",onClick:l},i.map(function(e,t){return r.a.createElement("div",{className:"column has-text-centered",key:t},e.map(function(e,a){var i=e.divisions,c=e.current;return r.a.createElement(y,{key:"d".concat(i),className:"has-background-light"},v.a(0,i).map(function(e,o){var s=c===o&&n?"has-background-primary":"";return r.a.createElement(S,{key:"d".concat(i,"-").concat(o),className:"".concat(s," has-text-centered"),style:{justifyContent:"center"}},0===a&&t+1)}))}))})),u&&r.a.createElement("section",{className:"section buttons is-centered"},r.a.createElement(h,{onClick:function(){return x(2)}},"2/4"),r.a.createElement(h,{onClick:function(){return x(3)}},"3/4"),r.a.createElement(h,{onClick:function(){return x(4)}},"4/4"),r.a.createElement(h,{onClick:function(){return x(5)}},"5/4")))},x=t(26),C=t(43),N=t(40),F=function(e,n){var t=n.time,a=n.gain,r=n.buffer,i=n.pitch,c=e.createBufferSource();c.buffer=r,c.detune.value=-i;var o=e.createGain();o.gain.value=a,c.connect(o),o.connect(e.destination),c.start(t)},_=function(e,n,t,a,r){return t.reduce(function(t,i){var c=n/i,o=v.a(0,i).map(function(n){return{time:e+n*c,pitch:220,gain:.5,buffer:a,divisions:i,divisionIndex:n,currentBeat:r}});return t.concat(o)},[])},A=function(e,n,t,r,i,c){var o=n.playing,u=function(e,n){var t=Object(a.useState)(),r=Object(s.a)(t,2),i=r[0],c=r[1];return Object(a.useEffect)(function(){void 0!==e&&fetch(n).then(function(e){return e.arrayBuffer()}).then(function(n){return e.decodeAudioData(n)}).then(c)},[n,e]),i}(e,N),l=Object(a.useRef)(0),f=o?150:void 0,d=Object(a.useRef)(n);Object(a.useEffect)(function(){d.current=n},[n]);var m=Object(a.useRef)(r);Object(a.useEffect)(function(){m.current=r},[r]),Object(a.useEffect)(function(){if(void 0!==f&&void 0!==e&&void 0!==u){var n=e.currentTime+.3;l.current=n;var a=setInterval(function(){!function(e,n,t,a,r,i,c,o,s){var u=e.current,l=u.bpm,f=u.signature,d=u.signature.beats,m=c.current,v=d[c.current];if(void 0!==v)for(var b=v.divisions,g=60/l;t.current<r.currentTime+n;){var j=_(t.current,g,b,a,m),p=!0,h=!1,E=void 0;try{for(var O,M=function(){var n=O.value;F(r,n),B(r,n.time,function(){e.current.signature===f&&e.current.playing&&i(function(e){var t=D(d,m,e[m]),a=t[m].find(function(e){return e.divisions===n.divisions});return void 0!==a&&(a.current=n.divisionIndex),t})})},w=j[Symbol.iterator]();!(p=(O=w.next()).done);p=!0)M()}catch(S){h=!0,E=S}finally{try{p||null==w.return||w.return()}finally{if(h)throw E}}t.current+=g,o()}}(d,.3,l,u,e,t,m,i)},f);return function(){clearInterval(a)}}},[f,u,e,c,i,t])},B=function e(n,t,a){var r=n.currentTime;t<=r?a():setTimeout(function(){return e(n,t,a)},(t-r)/2*1e3)},D=function(e,n,t){return e.map(function(e,a){return a===n&&void 0!==t?t:e.divisions.map(function(e){return{divisions:e,current:void 0,pitch:220,gain:1}})})},T=t(48),G=t(49),R=t(27),L=t(50),P=t(44),I=t(45),W=T.a(function(e){return G.a(2,e)},R.a(function(e){var n=Object(s.a)(e,2),t=n[0];return n[1]-t}),L.a,P.a(6e4),Math.trunc),q=function(e){var n=e.setBPM,t=Object(a.useState)([]),i=Object(s.a)(t,2),c=i[0],o=i[1];return r.a.createElement(h,{onClick:function(){var e=performance.now(),t=I.a(e,c).filter(function(n){return e-n<3e3});if(t.length>1){var a=W(t);n(a)}o(t)}},"Tap In")},z={0:"A",1:"Bb",2:"B",3:"C",4:"Db",5:"D",6:"Eb",7:"E",8:"F",9:"Gb",10:"G",11:"Ab"},K=[],U=-4;U<4;U++)for(var J=0;J<12;J++){var V=440*Math.pow(2,U),H=V/1200,X=V*Math.pow(2,J/12),Y=U+4,$=z[J];K.push({octave:Y,note:$,frequency:X,centsPerOctave:H})}var Q=function(){var e=Object(a.useState)(),n=Object(s.a)(e,2),t=n[0],i=n[1],c=Object(a.useState)(),o=Object(s.a)(c,2)[1],u=Object(a.useState)(),l=Object(s.a)(u,2),f=l[0],d=l[1],m=Object(a.useState)(440),v=Object(s.a)(m,2),b=v[0],g=v[1];Object(a.useRef)(null);Object(a.useEffect)(function(){var e=new AudioContext;d(e.sampleRate);var n=navigator.mediaDevices;return n&&n.getUserMedia({audio:!0}).then(function(n){var t=e.createAnalyser();t.fftSize=8192,e.createMediaStreamSource(n).connect(t),i(t)}),function(){e.close()}},[]),Object(a.useLayoutEffect)(function(){var e,n=function(){var e=t.frequencyBinCount,n=new Float32Array(e);t.getFloatFrequencyData(n),o(n);var r=n.reduce(function(e,n,t){return e[0]<n?[n,t]:e},[-1/0,-1]),i=Object(s.a)(r,2)[1],c=f/t.fftSize;g(c*i),a()},a=function(){e=requestAnimationFrame(n)};if(void 0!==t)return a(),function(){cancelAnimationFrame(e)}},[t,f]);var j=function(e){for(var n=0,t=0;t<K.length;t++)if(K[t].frequency>=e){n=t;break}var a=n+1,r=K[n],i=K[a],c=(r.frequency+i.frequency)/2,o=K[a],s=o.frequency-e;e<c&&(o=K[n]);var u=o.centsPerOctave*s;return Object.assign(o,{originalFrequency:e,difference:s,cents:u})}(b||0),p=j.octave,h=j.note,E=j.cents;return r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"has-text-centered"},r.a.createElement("div",{className:"is-size-1"},h+p),r.a.createElement("div",null,E.toFixed(2)," Cents ",E<0?"flat":"sharp")),!1)};function Z(){var e=Object(o.a)(["\n  align-self: center;\n  margin: auto;\n  z-index: 1;\n  pointer-events: none;\n"]);return Z=function(){return e},e}function ee(){var e=Object(o.a)(["\n  width: 100px;\n  height: 100px;\n  border-radius: 100px;\n  position: absolute;\n  touch-action: none;\n"]);return ee=function(){return e},e}function ne(){var e=Object(o.a)(["\n  margin: auto;\n  position: relative;\n  height: 300px;\n  width: 300px;\n  border-radius: 300px;\n  display: flex;\n  margin-bottom: 10px;\n"]);return ne=function(){return e},e}var te,ae,re=u.a.div(ne()),ie=u.a.div(ee()),ce=u.a.div(Z()),oe=function(e){var n=e.size,t=void 0===n?300:n,i=e.initialValue,c=e.addDiff,o=e.children,u=Object(a.useState)(i*(3*Math.PI)/2),l=Object(s.a)(u,2),f=l[0],d=l[1],m=Object(a.useRef)(Math.PI);Object(a.useEffect)(function(){m.current=f},[f]);var v=Object(a.useState)(!1),b=Object(s.a)(v,2),g=b[0],j=b[1],p=Object(a.useRef)(!1);Object(a.useEffect)(function(){p.current=g},[g]);var h=Object(a.useState)(0),E=Object(s.a)(h,2),O=E[0],M=E[1],w=Object(a.useRef)(0);Object(a.useEffect)(function(){w.current=O},[O]);var S=Object(a.useRef)(null),y=Object(a.useCallback)(function(e){j(!1)},[]),k=Object(a.useCallback)(function(e){Math.abs(w.current)<.2?M(function(n){return n+e}):(c(w.current>0?-1:1),M(0))},[c]),x=Object(a.useCallback)(function(e){var n=e.clientX,t=e.clientY,a=S.current.getBoundingClientRect(),r=a.left+a.width/2,i=-(a.top+a.height/2-t),c=-(r-n),o=Math.atan2(i,c),s=m.current-o;s<-Math.PI?s=-m.current-o:s>Math.PI&&(s=m.current- -o),0!==s&&k(s),o===m.current||d(o)},[k]),C=Object(a.useCallback)(function(e){p.current&&x(e)},[x]);Object(a.useEffect)(function(){return window.addEventListener("mouseup",y),window.addEventListener("mousemove",C),function(){window.removeEventListener("mouseup",y),window.removeEventListener("mousemove",C)}},[C,y]);var N=t/2+Math.sin(f)*(t/4)+Math.sin(f)*t/16-t/6,F=t/2+Math.cos(f)*(t/4)+Math.cos(f)*t/16-t/6;return r.a.createElement(re,{ref:S,className:"has-background-primary"},r.a.createElement(ie,{className:"has-background-info",onMouseDown:function(e){j(!0),e.preventDefault()},onTouchMove:function(e){var n=e.changedTouches[0];x(n)},style:{top:N,left:F}}),r.a.createElement(ce,null,o))},se=t(46),ue=t(47);!function(e){e.Major="Major",e.Minor="Minor"}(te||(te={})),function(e){e.A="A",e.B="B",e.C="C",e.D="D",e.E="E",e.F="F",e.G="G",e.A_Flat="Ab",e.B_Flat="Bb",e.C_Flat="Bb",e.D_Flat="Db",e.E_Flat="Eb",e.F_Flat="Eb",e.G_Flat="Gb",e.A_Sharp="A#",e.B_Sharp="B#",e.C_Sharp="B#",e.D_Sharp="D#",e.E_Sharp="E#",e.F_Sharp="E#",e.G_Sharp="G#"}(ae||(ae={}));var le;ae.A,te.Major,ae.B,te.Major,ae.C,te.Major,ae.D,te.Major,ae.E,te.Major,ae.F,te.Major,ae.G,te.Major,ae.A_Flat,te.Major,ae.B_Flat,te.Major,ae.C_Flat,te.Major,ae.D_Flat,te.Major,ae.E_Flat,te.Major,ae.G_Flat,te.Major,ae.C_Sharp,te.Major,ae.D_Sharp,te.Major,ae.E_Sharp,te.Major,ae.F_Sharp,te.Major,ae.A,te.Minor,ae.B,te.Minor,ae.C,te.Minor,ae.D,te.Minor,ae.E,te.Minor,ae.F,te.Minor,ae.G,te.Minor,ae.A_Flat,te.Minor,ae.B_Flat,te.Minor,ae.E_Flat,te.Minor,ae.A_Sharp,te.Minor,ae.C_Sharp,te.Minor,ae.D_Sharp,te.Minor,ae.F_Sharp,te.Minor,ae.G_Sharp,te.Minor;!function(e){e.NOT_STARTED="Not Started",e.LEARNING="Learning",e.KNOWN="Known"}(le||(le={}));var fe=function(e,n){return de(e,n)[0]},de=function(e,n){var t=[];return Object.entries(e).forEach(function(e){var a=Object(s.a)(e,2)[1];Object.entries(a).forEach(function(e){var a=Object(s.a)(e,2)[1];n(a)&&t.push(a)})}),t},me=function(){var e={},n=function(n,t){var a=e[n];void 0===a&&(a={},e[n]=a),a[t]=function(e,n){return{pitch:e,mode:n,known:!1,learning:!1,bpm:60}}(n,t)};return n(ae.A,te.Major),n(ae.B_Flat,te.Major),n(ae.B,te.Major),n(ae.C,te.Major),n(ae.D_Flat,te.Major),n(ae.D,te.Major),n(ae.E_Flat,te.Major),n(ae.E,te.Major),n(ae.F,te.Major),n(ae.G_Flat,te.Major),n(ae.G,te.Major),n(ae.A_Flat,te.Major),n(ae.A,te.Minor),n(ae.B_Flat,te.Minor),n(ae.B,te.Minor),n(ae.C,te.Minor),n(ae.D_Flat,te.Minor),n(ae.D,te.Minor),n(ae.E_Flat,te.Minor),n(ae.E,te.Minor),n(ae.F,te.Minor),n(ae.G_Flat,te.Minor),n(ae.G,te.Minor),n(ae.A_Flat,te.Minor),e},ve=function(e){var n=e.pitch,t=e.mode,a=e.learning,i=e.known,c=e.toggleLearning,o=e.toggleKnown;return r.a.createElement("div",{className:"is-grouped field has-addons"},r.a.createElement("div",{className:"is-size-5 control is-expanded"},n," ",t),r.a.createElement(O,null,r.a.createElement(h,{classes:[i?"is-info":""],onClick:o},"Known"),r.a.createElement(h,{classes:[a?"is-link":""],onClick:c},"Learning")))};var be=function(e){var n=e.scalesDB,t=e.addBPM,i=e.reset,c=e.scaleMode,o=e.startMetronome,u=Object(a.useState)(function(){return function(e){var n,t,a;for(a=e.length-1;a>0;a--)n=Math.floor(Math.random()*(a+1)),t=e[a],e[a]=e[n],e[n]=t;return e}(de(n,function(e){return c===le.LEARNING?e.learning:c===le.KNOWN&&e.known}).map(function(e){return[e.mode,e.pitch]}))}),l=Object(s.a)(u,2),f=l[0],d=l[1],m=f[0]||[],v=fe(n,function(e){return e.mode===m[0]&&e.pitch===m[1]});Object(a.useEffect)(function(){void 0!==v&&o(v.bpm)},[v,o]);var b=f.length>1?"Next Scale":"Finish";if(0===f.length)return r.a.createElement("div",null,"No more scales");var g=v,j=g,p=j.mode,E=j.pitch,M=j.bpm;return r.a.createElement("div",null,r.a.createElement("div",{style:{alignSelf:"center",fontWeight:"bold"},className:"control is-expanded is-size-5"},c),r.a.createElement("div",{style:{display:"flex",marginBottom:"5px"}},r.a.createElement("div",{style:{alignSelf:"center",marginRight:"10px"}},E," ",p," @ ",M,"bpm"),r.a.createElement(O,{style:{flexGrow:1}},r.a.createElement(h,{classes:["is-danger","is-outlined"],style:{flexGrow:1},onClick:t(g,-10)},"-10"),r.a.createElement(h,{classes:["is-danger","is-outlined"],style:{flexGrow:1},onClick:t(g,-1)},"-"),r.a.createElement(h,{classes:["is-success","is-outlined"],style:{flexGrow:1},onClick:t(g,1)},"+"),r.a.createElement(h,{classes:["is-success","is-outlined"],style:{flexGrow:1},onClick:t(g,10)},"+10"))),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(h,{onClick:i},"Stop"),r.a.createElement(h,{onClick:function(){d(function(e){var n=e.slice(1);return 0===n.length&&i(),n})}},b)))},ge=function(e){var n=e.startMetronome,t=e.stopMetronome,i=(Object(j.a)(e,["startMetronome","stopMetronome"]),b("@mjh/metronome/scales-db",me)),c=Object(s.a)(i,2),o=c[0],u=c[1],l=Object(a.useState)(le.NOT_STARTED),f=Object(s.a)(l,2),d=f[0],m=f[1];Object(a.useEffect)(function(){d===le.NOT_STARTED&&t()},[d,t]);var v=function(e){var n=e.pitch,t=e.mode;return function(){u(se.a(ue.a([n,t,"learning"]),C.a))}},g=function(e){var n=e.pitch,t=e.mode;return function(){u(se.a(ue.a([n,t,"known"]),C.a))}};return r.a.createElement("div",{className:"box",style:{marginTop:"10px"}},d===le.NOT_STARTED?r.a.createElement("div",{style:{marginBottom:"5px"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("div",{style:{alignSelf:"center",fontWeight:"bold"},className:"control is-expanded is-size-5"},"Scales"),r.a.createElement(O,null,r.a.createElement(h,{onClick:function(){return m(le.KNOWN)},disabled:void 0===fe(o,function(e){return e.known}),classes:["is-info","is-outlined"]},"Start Known"),r.a.createElement(h,{onClick:function(){return m(le.LEARNING)},disabled:void 0===fe(o,function(e){return e.learning}),classes:["is-link","is-outlined"]},"Start Learning"))),r.a.createElement("hr",null),de(o,function(e){return e.mode===te.Major}).map(function(e){return r.a.createElement(ve,Object.assign({key:"".concat(e.pitch,"-").concat(e.mode)},e,{toggleLearning:v(e),toggleKnown:g(e)}))}),r.a.createElement("hr",null),de(o,function(e){return e.mode===te.Minor}).map(function(e){return r.a.createElement(ve,Object.assign({key:"".concat(e.pitch,"-").concat(e.mode)},e,{toggleLearning:v(e),toggleKnown:g(e)}))})):r.a.createElement(be,{scaleMode:d,startMetronome:n,addBPM:function(e,n){var t=e.pitch,a=e.mode;return function(){u(se.a(ue.a([t,a,"bpm"]),x.a(n)))}},scalesDB:o,reset:function(){return m(le.NOT_STARTED)}}))},je=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function pe(e){if("serviceWorker"in navigator){if(new URL("/metronome",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var n="".concat("/metronome","/service-worker.js");je?(!function(e,n){fetch(e).then(function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):he(e,n)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(n,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):he(n,e)})}}function he(e,n){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}function Ee(){var e=Object(o.a)(["\n  max-width: 500px;\n  margin: 0 auto;\n  padding-left: 10px;\n  padding-right: 10px;\n"]);return Ee=function(){return e},e}var Oe=function(){var e=Object(a.useState)(),n=Object(s.a)(e,2),t=n[0],i=n[1],c=function(e){var n=Object(a.useState)(!1),t=Object(s.a)(n,2),r=t[0],i=t[1],c=b("@mjh/bpm",90),o=Object(s.a)(c,2),u=o[0],l=o[1],f=Object(a.useState)(0),d=Object(s.a)(f,2),m=d[0],v=d[1],g=b("@mjh/saved-signature",{denominator:4,beats:[{divisions:[1]},{divisions:[1]},{divisions:[1]}]}),j=Object(s.a)(g,2),p=j[0],h=j[1],E=b("@mjh/saved-divisions",D(p.beats)),O=Object(s.a)(E,2),M=O[0],w=O[1],S={bpm:u,playing:r,signature:p,divisions:M},y=p.beats,k=Object(a.useRef)(!1),N=Object(a.useRef)(y.length),F=Object(a.useRef)(u);Object(a.useEffect)(function(){F.current=u},[u]);var _=Object(a.useCallback)(function(e){void 0!==e&&l(e),i(!0)},[i]),B=Object(a.useCallback)(function(){i(!1)},[i]),T=Object(a.useCallback)(function(){v(function(e){return(e+1)%N.current})},[]);return Object(a.useEffect)(function(){w(D(y)),v(0),N.current=y.length},[y,p]),Object(a.useEffect)(function(){r||(v(0),w(D(y)),setTimeout(function(){v(0),w(D(y))},100))},[r,y]),A(e,S,w,m,T,k),{toggleStart:function(){return i(C.a)},setSignature:h,start:_,stop:B,setBPM:l,addBPM:function(e){l(x.a(e))},state:S}}(t),o=c.state,u=o.playing,l=o.signature,f=o.divisions,m=o.bpm,v=c.start,j=c.stop,p=c.toggleStart,M=c.setSignature,w=c.setBPM,S=c.addBPM;Object(a.useEffect)(function(){u&&void 0===t&&i(new AudioContext)},[u,t]);var y=g(!1),N=Object(s.a)(y,2),F=N[0],_=N[1],B=g(!1),T=Object(s.a)(B,2),G=T[0],R=T[1],L=g(!0),P=Object(s.a)(L,2),I=P[0],W=P[1],z=Object(a.useState)(!1),K=Object(s.a)(z,2),U=K[0],J=K[1];return Object(a.useEffect)(function(){pe({onUpdate:function(){J(!0)}})}),r.a.createElement(Me,null,U&&r.a.createElement("section",{className:"box is-grouped field has-addons",style:{marginBottom:"10px"}},r.a.createElement("p",{style:{alignSelf:"center"},className:"control is-expanded"},"An Update is Available!"),r.a.createElement(h,{onClick:function(){return window.location.reload()}},"Refresh")),r.a.createElement(k,{playing:u,signature:l,setSignature:M,activeSubDivisions:f}),I&&r.a.createElement("section",{className:"section"},r.a.createElement(oe,{initialValue:m,addDiff:S},r.a.createElement("div",{className:"has-text-centered is-size-1"},m),r.a.createElement(d,{bpm:m}))),r.a.createElement("section",{className:"section"},r.a.createElement(O,null,r.a.createElement(q,{setBPM:w}),r.a.createElement(E,{classes:["is-outlined",u?"is-danger":"is-primary"],onClick:p},u?"Stop":"Start"))),F&&r.a.createElement(ge,{startMetronome:v,stopMetronome:j}),G&&r.a.createElement(Q,null),r.a.createElement("nav",{className:"navbar is-fixed-bottom has-background-light"},r.a.createElement(Me,{className:" buttons is-right"},r.a.createElement(h,{classes:[I?"is-primary":""],onClick:W},"Dial"),r.a.createElement(h,{classes:[F?"is-primary":""],onClick:_},"Scales"),r.a.createElement(h,{classes:[G?"is-primary":""],onClick:R},"Tuner"),r.a.createElement("div",null,"v".concat("22.5.2")))))},Me=u.a.div(Ee()),we=function(){return r.a.createElement(Oe,null)};t(41);c.a.render(r.a.createElement(we,null),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.5a170c42.chunk.js.map