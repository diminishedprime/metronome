(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,n,t){e.exports=t(49)},47:function(e,n,t){e.exports=t.p+"static/media/click.b48ed3e5.wav"},48:function(e,n,t){},49:function(e,n,t){"use strict";t.r(n);var a,r,c,i=t(0),o=t.n(i),s=t(15),u=t.n(s),l=t(6),f=t(1),m=t(7),d=[{name:"Larghissimo",range:[0,24]},{name:"Grave",range:[25,45]},{name:"Largo",range:[40,60]},{name:"Lento",range:[45,60]},{name:"Larghetto",range:[60,66]},{name:"Adagio",range:[66,76]},{name:"Andante",range:[76,108]},{name:"Marcia moderato",range:[83,85]},{name:"Andante moderato",range:[92,112]},{name:"Moderato",range:[108,120]},{name:"Allegro",range:[120,156]},{name:"Vivace",range:[156,176]},{name:"Vivacissimo",range:[172,176]},{name:"Allegrissimo",range:[172,176]},{name:"Presto",range:[168,200]},{name:"Prestissimo",range:[200,250]}],v=function(e){return d.filter(function(n){return function(e,n){var t=Object(f.a)(e,2),a=t[0],r=t[1];return n>=a&&n<=r}(n.range,e)})},b=function(e){var n=e.bpm,t=v(n);return o.a.createElement("div",{style:{minHeight:"6.5em"}},t.map(function(e,n){var t=e.name,a=e.range;return o.a.createElement("div",{key:n,className:"has-text-centered"},t," - ",a[0]," - ",a[1])}))},g=t(23),h=t(59),j=t(50);t(28);!function(e){e.SignatureDivisions="@mjh/k/signature-divisions",e.ShowKnown="@mjh/k/show-known-0",e.ScalesDB="@mjh/k/scales-db",e.Divisions="@mjh/k/divisions-0",e.Signature="@mjh/k/signature-0",e.BPM="@mjh/k/bpm-0",e.KnownScales="@mjh/k/known-scales-0",e.ShowScales="@mjh/k/show-scales-0",e.ShowTuner="@mjh/k/show-tuner-0",e.ShowDial="@mjh/k/show-dial-0",e.Radians="@mjh/k/radians-0"}(a||(a={})),function(e){e.Major="Major",e.Minor="Minor"}(r||(r={})),function(e){e.A="A",e.B="B",e.C="C",e.D="D",e.E="E",e.F="F",e.G="G",e.A_Flat="Ab",e.B_Flat="Bb",e.C_Flat="Cb",e.D_Flat="Db",e.E_Flat="Eb",e.F_Flat="Fb",e.G_Flat="Gb",e.A_Sharp="A#",e.B_Sharp="B#",e.C_Sharp="C#",e.D_Sharp="D#",e.E_Sharp="E#",e.F_Sharp="F#",e.G_Sharp="G#"}(c||(c={}));var p=[[c.A,r.Major],[c.B,r.Major],[c.C,r.Major],[c.D,r.Major],[c.E,r.Major],[c.F,r.Major],[c.G,r.Major],[c.A_Flat,r.Major],[c.B_Flat,r.Major],[c.C_Flat,r.Major],[c.D_Flat,r.Major],[c.E_Flat,r.Major],[c.G_Flat,r.Major],[c.C_Sharp,r.Major],[c.D_Sharp,r.Major],[c.E_Sharp,r.Major],[c.F_Sharp,r.Major],[c.A,r.Minor],[c.B,r.Minor],[c.C,r.Minor],[c.D,r.Minor],[c.E,r.Minor],[c.F,r.Minor],[c.G,r.Minor],[c.A_Flat,r.Minor],[c.B_Flat,r.Minor],[c.E_Flat,r.Minor],[c.A_Sharp,r.Minor],[c.C_Sharp,r.Minor],[c.D_Sharp,r.Minor],[c.F_Sharp,r.Minor],[c.G_Sharp,r.Minor]],O=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=Object(i.useState)(function(){var a,r=localStorage.getItem(e);return a=null===r||void 0===r||t?n instanceof Function?n():n:JSON.parse(r),window.localStorage.setItem(e,JSON.stringify(a)),a}),r=Object(f.a)(a,2),c=r[0],o=r[1];return[c,Object(i.useCallback)(function(n){o(function(t){var a=n instanceof Function?n(t):n;return window.localStorage.setItem(e,JSON.stringify(a)),a})},[e])]},E=function(e,n){var t=O(e,n),a=Object(f.a)(t,2),r=a[0],c=a[1];return[r,Object(i.useCallback)(function(){c(j.a)},[c])]},w=t(12);function S(){var e=Object(l.a)(["\n  flex-grow: 1;\n"]);return S=function(){return e},e}var k=function(e){var n=e.children,t=e.className,a=Object(w.a)(e,["children","className"]),r="button ".concat(t),c=Object.assign(a,{className:r});return o.a.createElement("button",Object.assign({},c,a),n)},y=Object(m.a)(k)(S()),M=function(e){var n=e.children,t=e.className,a=Object(w.a)(e,["children","className"]),r="".concat(t," buttons has-addons}"),c=Object.assign(a,{className:r});return o.a.createElement("div",c,n)};function N(){var e=Object(l.a)(["\n  display: flex;\n"]);return N=function(){return e},e}function C(){var e=Object(l.a)(["\n  display: flex;\n  flex-grow: 1;\n"]);return C=function(){return e},e}for(var x=m.a.div(C()),A=m.a.div(N()),D=function(e){var n=e.playing,t=(e.signature.beats,e.setSignature),r=e.activeSubDivisions,c=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){},t=Object(i.useState)(e),a=Object(f.a)(t,2),r=a[0],c=a[1];return[r,Object(i.useCallback)(function(){return c(function(e){var t=!e;return n(t),t})},[n])]}(!1),s=Object(f.a)(c,2),u=s[0],l=s[1],m=Object(i.useState)(!1),d=Object(f.a)(m,2),v=d[0],b=d[1],j=O(a.SignatureDivisions,[1]),p=Object(f.a)(j,2),E=p[0],w=p[1],S=Object(i.useCallback)(function(e){b(!0),t(function(n){return Object(g.a)({},n,{beats:h.a(0,e).map(function(){return{divisions:E}})})})},[E,t]),M=Object(i.useCallback)(function(e){return-1===E.indexOf(e)?"":"is-primary"},[E]);Object(i.useEffect)(function(){v&&t(function(e){return Object(g.a)({},e,{beats:h.a(0,e.beats.length).map(function(){return{divisions:E}})})})},[E,v,t]);var N=Object(i.useCallback)(function(e){b(!0),w(function(n){return-1!==n.indexOf(e)?n.filter(function(n){return n!==e}):n.concat([e]).sort()})},[w]),C=Object(i.useCallback)(function(){w([1])},[w]);return o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",{className:"subtitle is-5",style:{paddingLeft:"10px",marginBottom:"0"}},"Divisions"),o.a.createElement("section",{style:{marginTop:"10px"},className:"section buttons is-centered"},[2,3,4,5,6].map(function(e){return o.a.createElement(y,{key:"division-options-".concat(e),className:M(e),onClick:function(){return N(e)}},e)}),o.a.createElement(y,{className:"is-danger is-outlined",onClick:C},"Clear")),o.a.createElement("section",{className:"section is-mobile columns",onClick:l},r.map(function(e,t){return o.a.createElement("div",{className:"column has-text-centered",key:t},e.map(function(a,r){var c=a.divisions,i=a.current;return o.a.createElement(A,{key:"d".concat(c)},h.a(0,c).map(function(a,s){var u=i===s&&n?"has-background-primary":"has-background-light",l=1===c?0:5,f=0===s?0:10/c,m=s===c-1?0:10/c;return o.a.createElement(x,{key:"d".concat(c,"-").concat(s),className:"".concat(u," has-text-centered"),style:{justifyContent:"center",height:70/e.length-l,marginLeft:f,marginRight:m,marginTop:l}},0===r&&t+1)}))}))})),u&&o.a.createElement("section",{className:"section buttons is-centered"},o.a.createElement(k,{onClick:function(){return S(2)}},"2/4"),o.a.createElement(k,{onClick:function(){return S(3)}},"3/4"),o.a.createElement(k,{onClick:function(){return S(4)}},"4/4"),o.a.createElement(k,{onClick:function(){return S(5)}},"5/4")))},F=t(51),B=t(31),_=t(47),T=function(e,n){var t=n.time,a=n.gain,r=n.buffer,c=n.pitch,i=e.createBufferSource();i.buffer=r,i.detune.value=-c;var o=e.createGain();o.gain.value=a,i.connect(o),o.connect(e.destination),i.start(t)},R=function(e,n,t,a,r){return t.reduce(function(t,c){var i=n/c,o=h.a(0,c).map(function(n){return{time:e+n*i,pitch:220,gain:.5,buffer:a,divisions:c,divisionIndex:n,currentBeat:r}});return t.concat(o)},[])},G=function(e,n,t,a,r){var c=n.playing,o=function(e,n){var t=Object(i.useState)(),a=Object(f.a)(t,2),r=a[0],c=a[1];return Object(i.useEffect)(function(){void 0!==e&&fetch(n).then(function(e){return e.arrayBuffer()}).then(function(n){return e.decodeAudioData(n)}).then(c)},[n,e]),r}(e,_),s=Object(i.useRef)(0),u=c?150:void 0,l=Object(i.useRef)(n);Object(i.useEffect)(function(){l.current=n},[n]);var m=Object(i.useRef)(a);Object(i.useEffect)(function(){m.current=a},[a]),Object(i.useEffect)(function(){if(void 0!==u&&void 0!==e&&void 0!==o){var n=e.currentTime+.3;s.current=n;var a=setInterval(function(){!function(e,n,t,a,r,c,i,o){var s=e.current,u=s.bpm,l=s.signature,f=s.signature.beats,m=i.current,d=f[i.current];if(void 0!==d)for(var v=d.divisions,b=60/u;t.current<r.currentTime+n;){var g=R(t.current,b,v,a,m),h=!0,j=!1,p=void 0;try{for(var O,E=function(){var n=O.value;T(r,n),L(r,n.time,function(){e.current.signature===l&&e.current.playing&&c(function(e){var t=P(f,m,e[m]),a=t[m].find(function(e){return e.divisions===n.divisions});return void 0!==a&&(a.current=n.divisionIndex),t})})},w=g[Symbol.iterator]();!(h=(O=w.next()).done);h=!0)E()}catch(S){j=!0,p=S}finally{try{h||null==w.return||w.return()}finally{if(j)throw p}}t.current+=b,o()}}(l,.3,s,o,e,t,m,r)},u);return function(){clearInterval(a)}}},[u,o,e,r,t])},L=function e(n,t,a){var r=n.currentTime;t<=r?a():setTimeout(function(){return e(n,t,a)},(t-r)/2*1e3)},P=function(e,n,t){return e.map(function(e,a){return a===n&&void 0!==t?t:e.divisions.map(function(e){return{divisions:e,current:void 0,pitch:220,gain:1}})})},K=function(e){var n=Object(i.useCallback)(function(e){return F.a(10,250,e)},[]),t=Object(i.useState)(!1),r=Object(f.a)(t,2),c=r[0],o=r[1],s=function(e,n){var t=Object(f.a)(e,2),a=t[0],r=t[1];return[a,Object(i.useCallback)(function(e){r(function(t){return n(e instanceof Function?e(t):e)})},[n,r])]}(O(a.BPM,90),n),u=Object(f.a)(s,2),l=u[0],m=u[1],d=Object(i.useState)(0),v=Object(f.a)(d,2),b=v[0],g=v[1],h=O(a.Signature,{denominator:4,beats:[{divisions:[1]},{divisions:[1]},{divisions:[1]}]}),p=Object(f.a)(h,2),E=p[0],w=p[1],S=O(a.Divisions,P(E.beats)),k=Object(f.a)(S,2),y=k[0],M=k[1],N={bpm:l,playing:c,signature:E,divisions:y},C=E.beats,x=Object(i.useRef)(C.length),A=Object(i.useRef)(l);Object(i.useEffect)(function(){A.current=l},[l]);var D=Object(i.useCallback)(function(e){void 0!==e&&m(e),o(!0)},[o,m]),_=Object(i.useCallback)(function(){o(!1)},[o]),T=Object(i.useCallback)(function(){g(function(e){return(e+1)%x.current})},[]);return Object(i.useEffect)(function(){M(P(C)),g(0),x.current=C.length},[C,E,M]),Object(i.useEffect)(function(){c||(g(0),M(P(C)),setTimeout(function(){g(0),M(P(C))},100))},[c,C,M]),G(e,N,M,b,T),{toggleStart:function(){return o(j.a)},setSignature:w,start:D,stop:_,setBPM:m,addBPM:function(e){m(B.a(e))},state:N}},I=t(56),W=t(57),q=t(32),z=t(58),U=t(52),J=t(53),V=I.a(function(e){return W.a(2,e)},q.a(function(e){var n=Object(f.a)(e,2),t=n[0];return n[1]-t}),z.a,U.a(6e4),Math.trunc),H=function(e){var n=e.setBPM,t=Object(i.useState)([]),a=Object(f.a)(t,2),r=a[0],c=a[1];return o.a.createElement(k,{onClick:function(){var e=performance.now(),t=J.a(e,r).filter(function(n){return e-n<3e3});if(t.length>1){var a=V(t);n(a)}c(t)}},"Tap In")},X={0:"A",1:"Bb",2:"B",3:"C",4:"Db",5:"D",6:"Eb",7:"E",8:"F",9:"Gb",10:"G",11:"Ab"},Y=[],$=-4;$<4;$++)for(var Q=0;Q<12;Q++){var Z=440*Math.pow(2,$),ee=Z/1200,ne=Z*Math.pow(2,Q/12),te=$+4,ae=X[Q];Y.push({octave:te,note:ae,frequency:ne,centsPerOctave:ee})}var re=function(){var e=Object(i.useState)(),n=Object(f.a)(e,2),t=n[0],a=n[1],r=Object(i.useState)(),c=Object(f.a)(r,2)[1],s=Object(i.useState)(),u=Object(f.a)(s,2),l=u[0],m=u[1],d=Object(i.useState)(440),v=Object(f.a)(d,2),b=v[0],g=v[1];Object(i.useRef)(null);Object(i.useEffect)(function(){var e=new AudioContext;m(e.sampleRate);var n=navigator.mediaDevices;return n&&n.getUserMedia({audio:!0}).then(function(n){var t=e.createAnalyser();t.fftSize=8192,e.createMediaStreamSource(n).connect(t),a(t)}),function(){e.close()}},[]),Object(i.useLayoutEffect)(function(){var e,n=function(){var e=t.frequencyBinCount,n=new Float32Array(e);t.getFloatFrequencyData(n),c(n);var r=n.reduce(function(e,n,t){return e[0]<n?[n,t]:e},[-1/0,-1]),i=Object(f.a)(r,2)[1],o=l/t.fftSize;g(o*i),a()},a=function(){e=requestAnimationFrame(n)};if(void 0!==t)return a(),function(){cancelAnimationFrame(e)}},[t,l]);var h=function(e){for(var n=0,t=0;t<Y.length;t++)if(Y[t].frequency>=e){n=t;break}var a=n+1,r=Y[n],c=Y[a],i=(r.frequency+c.frequency)/2,o=Y[a],s=o.frequency-e;e<i&&(o=Y[n]);var u=o.centsPerOctave*s;return Object.assign(o,{originalFrequency:e,difference:s,cents:u})}(b||0),j=h.octave,p=h.note,O=h.cents;return o.a.createElement("div",{className:"box"},o.a.createElement("div",{className:"has-text-centered"},o.a.createElement("div",{className:"is-size-1"},p+j),o.a.createElement("div",null,O.toFixed(2)," Cents ",O<0?"flat":"sharp")),!1)};function ce(){var e=Object(l.a)(["\n  align-self: center;\n  margin: auto;\n  z-index: 1;\n  pointer-events: none;\n"]);return ce=function(){return e},e}function ie(){var e=Object(l.a)(["\n  width: 100px;\n  height: 100px;\n  border-radius: 100px;\n  position: absolute;\n  touch-action: none;\n"]);return ie=function(){return e},e}function oe(){var e=Object(l.a)(["\n  margin: auto;\n  position: relative;\n  height: 300px;\n  width: 300px;\n  border-radius: 300px;\n  display: flex;\n  margin-bottom: 10px;\n"]);return oe=function(){return e},e}var se,ue=m.a.div(oe()),le=m.a.div(ie()),fe=m.a.div(ce()),me=function(e){var n=e.size,t=void 0===n?300:n,r=e.initialValue,c=e.addDiff,s=e.children,u=O(a.Radians,r*(3*Math.PI)/2),l=Object(f.a)(u,2),m=l[0],d=l[1],v=Object(i.useRef)(Math.PI);Object(i.useEffect)(function(){v.current=m},[m]);var b=Object(i.useState)(!1),g=Object(f.a)(b,2),h=g[0],j=g[1],p=Object(i.useRef)(!1);Object(i.useEffect)(function(){p.current=h},[h]);var E=Object(i.useState)(0),w=Object(f.a)(E,2),S=w[0],k=w[1],y=Object(i.useRef)(0);Object(i.useEffect)(function(){y.current=S},[S]);var M=Object(i.useRef)(null),N=Object(i.useCallback)(function(e){j(!1)},[]),C=Object(i.useCallback)(function(e){Math.abs(y.current)<.2?k(function(n){return n+e}):(c(y.current>0?-1:1),k(0))},[c]),x=Object(i.useCallback)(function(e){var n=e.clientX,t=e.clientY,a=M.current.getBoundingClientRect(),r=a.left+a.width/2,c=-(a.top+a.height/2-t),i=-(r-n),o=Math.atan2(c,i),s=v.current-o;s<-Math.PI?s=-v.current-o:s>Math.PI&&(s=v.current- -o),0!==s&&C(s),o===v.current||d(o)},[C,d]),A=Object(i.useCallback)(function(e){p.current&&x(e)},[x]);Object(i.useEffect)(function(){return window.addEventListener("mouseup",N),window.addEventListener("mousemove",A),function(){window.removeEventListener("mouseup",N),window.removeEventListener("mousemove",A)}},[A,N]);var D=t/2+Math.sin(m)*(t/4)+Math.sin(m)*t/16-t/6,F=t/2+Math.cos(m)*(t/4)+Math.cos(m)*t/16-t/6;return o.a.createElement(ue,{ref:M,className:"has-background-primary"},o.a.createElement(le,{className:"has-background-info",onMouseDown:function(e){j(!0),e.preventDefault()},onTouchMove:function(e){var n=e.changedTouches[0];x(n)},style:{top:D,left:F}}),o.a.createElement(fe,null,s))},de=t(54),ve=t(55);!function(e){e.NOT_STARTED="Not Started",e.LEARNING="Learning",e.KNOWN="Known"}(se||(se={}));var be=function(e,n){return ge(e,n)[0]},ge=function(e,n){var t=[];return Object.entries(e).forEach(function(e){var a=Object(f.a)(e,2)[1];Object.entries(a).forEach(function(e){var a=Object(f.a)(e,2)[1];n(a)&&t.push(a)})}),t},he=function(){var e={},n=function(n){var t,a=Object(f.a)(n,2),r=a[0],c=a[1],i=e[r];void 0===i&&(i={},e[r]=i),i[c]={scaleKey:t=n,pitch:t[0],mode:t[1],known:!1,learning:!1,bpm:60}},t=!0,a=!1,r=void 0;try{for(var c,i=p[Symbol.iterator]();!(t=(c=i.next()).done);t=!0){n(c.value)}}catch(o){a=!0,r=o}finally{try{t||null==i.return||i.return()}finally{if(a)throw r}}return e},je=function(e){var n=Object(f.a)(e.scaleKey,2),t=n[0],a=n[1],r=e.learning,c=e.known,i=e.toggleLearning,s=e.toggleKnown;return o.a.createElement("div",{className:"is-grouped field has-addons"},o.a.createElement("div",{className:"is-size-5 control is-expanded"},t," ",a),o.a.createElement(M,null,o.a.createElement(k,{className:"".concat(c?"is-info":""),onClick:s},"Known"),o.a.createElement(k,{className:"".concat(r?"is-link":""),onClick:i},"Learning")))};var pe=function(e){var n=e.scalesDB,t=e.addBPM,a=e.reset,r=e.scaleMode,c=e.startMetronome,s=Object(i.useState)(function(){return function(e){var n,t,a;for(a=e.length-1;a>0;a--)n=Math.floor(Math.random()*(a+1)),t=e[a],e[a]=e[n],e[n]=t;return e}(ge(n,function(e){return r===se.LEARNING?e.learning:r===se.KNOWN&&e.known}).map(function(e){return e.scaleKey}))}),u=Object(f.a)(s,2),l=u[0],m=u[1],d=l[0]||[],v=be(n,function(e){return e.mode===d[1]&&e.pitch===d[0]});Object(i.useEffect)(function(){void 0!==v&&c(v.bpm)},[v,c]);var b=l.length>1?"Next Scale":"Finish";if(0===l.length)return o.a.createElement("div",null,"No more scales");var g=v,h=g,j=h.mode,p=h.pitch,O=h.bpm;return o.a.createElement("div",null,o.a.createElement("div",{style:{alignSelf:"center",fontWeight:"bold"},className:"control is-expanded is-size-5"},r),o.a.createElement("div",{style:{display:"flex",marginBottom:"5px"}},o.a.createElement("div",{style:{alignSelf:"center",marginRight:"10px"}},p," ",j," @ ",O,"bpm"),o.a.createElement(M,{style:{flexGrow:1}},o.a.createElement(k,{className:"is-danger is-outlined",style:{flexGrow:1},onClick:t(g,-10)},"-10"),o.a.createElement(k,{className:"is-danger is-outlined",style:{flexGrow:1},onClick:t(g,-1)},"-"),o.a.createElement(k,{className:"is-success is-outlined",style:{flexGrow:1},onClick:t(g,1)},"+"),o.a.createElement(k,{className:"is-success is-outlined",style:{flexGrow:1},onClick:t(g,10)},"+10"))),o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},o.a.createElement(k,{onClick:a},"Stop"),o.a.createElement(k,{onClick:function(){m(function(e){var n=e.slice(1);return 0===n.length&&a(),n})}},b)))},Oe=function(e){var n=e.startMetronome,t=e.stopMetronome,c=(Object(w.a)(e,["startMetronome","stopMetronome"]),O(a.ScalesDB,he)),s=Object(f.a)(c,2),u=s[0],l=s[1],m=Object(i.useState)(se.NOT_STARTED),d=Object(f.a)(m,2),v=d[0],b=d[1];Object(i.useEffect)(function(){v===se.NOT_STARTED&&t()},[v,t]);var g=function(e){var n=e.pitch,t=e.mode;return function(){l(de.a(ve.a([n,t,"learning"]),j.a))}},h=function(e){var n=e.pitch,t=e.mode;return function(){l(de.a(ve.a([n,t,"known"]),j.a))}},p=E(a.ShowKnown,!1),S=Object(f.a)(p,2),y=S[0],N=S[1];return o.a.createElement("div",{className:"box",style:{marginTop:"10px"}},v===se.NOT_STARTED?o.a.createElement("div",{style:{marginBottom:"5px"}},o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},o.a.createElement("div",{style:{alignSelf:"center",fontWeight:"bold"},className:"control is-expanded is-size-5"},"Scales"),o.a.createElement(M,null,o.a.createElement(k,{onClick:function(){return b(se.KNOWN)},disabled:void 0===be(u,function(e){return e.known}),className:"is-info is-outlined"},"Start Known"),o.a.createElement(k,{onClick:function(){return b(se.LEARNING)},disabled:void 0===be(u,function(e){return e.learning}),className:"is-link is-outlined"},"Start Learning"))),o.a.createElement("hr",null),o.a.createElement(M,null,o.a.createElement(k,{onClick:N,className:"".concat(y?"is-primary is-outlined":"is-danger")},y?"Hide Known":"Show Known")),ge(u,function(e){return e.mode===r.Major&&(!!y||!1===e.known)}).map(function(e){return o.a.createElement(je,Object.assign({key:"".concat(e.pitch,"-").concat(e.mode)},e,{toggleLearning:g(e),toggleKnown:h(e)}))}),o.a.createElement("hr",null),ge(u,function(e){return e.mode===r.Minor&&(!!y||!1===e.known)}).map(function(e){return o.a.createElement(je,Object.assign({key:"".concat(e.pitch,"-").concat(e.mode)},e,{toggleLearning:g(e),toggleKnown:h(e)}))})):o.a.createElement(pe,{scaleMode:v,startMetronome:n,addBPM:function(e,n){var t=e.pitch,a=e.mode;return function(){l(de.a(ve.a([t,a,"bpm"]),B.a(n)))}},scalesDB:u,reset:function(){return b(se.NOT_STARTED)}}))},Ee=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function we(e){if("serviceWorker"in navigator){if(new URL("/metronome",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var n="".concat("/metronome","/service-worker.js");Ee?(!function(e,n){fetch(e).then(function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Se(e,n)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(n,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):Se(n,e)})}}function Se(e,n){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}function ke(){var e=Object(l.a)(["\n  max-width: 500px;\n  margin: 0 auto;\n  padding-left: 10px;\n  padding-right: 10px;\n"]);return ke=function(){return e},e}var ye=function(){var e=Object(i.useState)(),n=Object(f.a)(e,2),t=n[0],r=n[1],c=K(t),s=c.state,u=s.playing,l=s.signature,m=s.divisions,d=s.bpm,v=c.start,g=c.stop,h=c.toggleStart,j=c.setSignature,p=c.setBPM,O=c.addBPM;Object(i.useEffect)(function(){u&&void 0===t&&r(new AudioContext)},[u,t]);var w=E(a.ShowScales,!1),S=Object(f.a)(w,2),N=S[0],C=S[1],x=E(a.ShowTuner,!1),A=Object(f.a)(x,2),F=A[0],B=A[1],_=E(a.ShowDial,!0),T=Object(f.a)(_,2),R=T[0],G=T[1],L=Object(i.useState)(!1),P=Object(f.a)(L,2),I=P[0],W=P[1];return Object(i.useEffect)(function(){we({onUpdate:function(){W(!0)}})}),o.a.createElement(Me,null,I&&o.a.createElement("section",{className:"box is-grouped field has-addons",style:{marginBottom:"10px"}},o.a.createElement("p",{style:{alignSelf:"center"},className:"control is-expanded"},"An Update is Available!"),o.a.createElement(k,{onClick:function(){return window.location.reload()}},"Refresh")),o.a.createElement("section",{className:"section",style:{marginTop:"10px",marginBottom:"10px"}},o.a.createElement("h2",{className:"title is-2 has-text-centered"},"(mjh)tronome")),R&&o.a.createElement("section",{className:"section"},o.a.createElement(me,{initialValue:d,addDiff:O},o.a.createElement("div",{className:"has-text-centered is-size-1"},d),o.a.createElement(b,{bpm:d}))),o.a.createElement(D,{playing:u,signature:l,setSignature:j,activeSubDivisions:m}),o.a.createElement("section",{className:"section"},o.a.createElement(M,null,o.a.createElement(H,{setBPM:p}),o.a.createElement(y,{className:"is-outlined ".concat(u?"is-danger":"is-primary"),onClick:h},u?"Stop":"Start"))),N&&o.a.createElement(Oe,{startMetronome:v,stopMetronome:g}),F&&o.a.createElement(re,null),o.a.createElement("nav",{className:"navbar is-fixed-bottom has-background-light"},o.a.createElement(Me,{className:" buttons is-right"},o.a.createElement(k,{className:"".concat(R?"is-primary":""),onClick:G},"Dial"),o.a.createElement(k,{className:"".concat(N?"is-primary":""),onClick:C},"Scales"),o.a.createElement(k,{className:"".concat(F?"is-primary":""),onClick:B},"Tuner"),o.a.createElement("div",null,"v".concat("1.0.0")))))},Me=m.a.div(ke()),Ne=function(){return o.a.createElement(ye,null)};t(48);u.a.render(o.a.createElement(Ne,null),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.06f7edd3.chunk.js.map